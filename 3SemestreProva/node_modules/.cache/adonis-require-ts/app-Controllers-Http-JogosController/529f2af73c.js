"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Jogo_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Jogo"));
const JogoValidator_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Validators/JogoValidator"));
class JogosController {
    index() {
        return Jogo_1.default.query().preload('conquista');
    }
    async store({ request }) {
        const dados = await request.validate(JogoValidator_1.default);
        return Jogo_1.default.create(dados);
    }
    show({ request }) {
        const id = request.param("id");
        return Jogo_1.default.findOrFail(id);
    }
    async update({ request }) {
        const id = request.param("id");
        const jogo = await Jogo_1.default.findOrFail(id);
        const dados = request.only(["nome", "descricao", "fabricante", "data_lancamento", "qtd_download",]);
        jogo.merge(dados);
        return jogo.save();
    }
    async destroy({ request }) {
        const id = request.param("id");
        const jogo = await Jogo_1.default.findOrFail(id);
        return jogo.delete();
    }
}
exports.default = JogosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSm9nb3NDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiSm9nb3NDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsaUZBQW1DO0FBQ25DLHVHQUF5RDtBQUV6RCxNQUFxQixlQUFlO0lBQ2hDLEtBQUs7UUFDRCxPQUFPLGNBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDMUMsQ0FBQztJQUVELEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7UUFDckIsTUFBTSxLQUFLLEdBQUcsTUFBTSxPQUFPLENBQUMsUUFBUSxDQUFDLHVCQUFhLENBQUMsQ0FBQztRQUNwRCxPQUFPLGNBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRTtRQUNkLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsT0FBTyxjQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxFQUFFO1FBQ3RCLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsTUFBTSxJQUFJLEdBQUcsTUFBTSxjQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQ3BHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEIsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUU7UUFDdkIsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixNQUFNLElBQUksR0FBRyxNQUFNLGNBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQztDQUNOO0FBNUJELGtDQTRCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2dvIGZyb20gXCJBcHAvTW9kZWxzL0pvZ29cIjtcbmltcG9ydCBKb2dvVmFsaWRhdG9yIGZyb20gXCJBcHAvVmFsaWRhdG9ycy9Kb2dvVmFsaWRhdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpvZ29zQ29udHJvbGxlciB7XG4gICAgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiBKb2dvLnF1ZXJ5KCkucHJlbG9hZCgnY29ucXVpc3RhJylcbiAgICAgIH1cbiAgICBcbiAgICAgIGFzeW5jIHN0b3JlKHsgcmVxdWVzdCB9KSB7XG4gICAgICAgIGNvbnN0IGRhZG9zID0gYXdhaXQgcmVxdWVzdC52YWxpZGF0ZShKb2dvVmFsaWRhdG9yKTtcbiAgICAgICAgcmV0dXJuIEpvZ28uY3JlYXRlKGRhZG9zKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHNob3coeyByZXF1ZXN0IH0pIHtcbiAgICAgICAgY29uc3QgaWQgPSByZXF1ZXN0LnBhcmFtKFwiaWRcIik7XG4gICAgICAgIHJldHVybiBKb2dvLmZpbmRPckZhaWwoaWQpO1xuICAgICAgfVxuICAgIFxuICAgICAgYXN5bmMgdXBkYXRlKHsgcmVxdWVzdCB9KSB7XG4gICAgICAgIGNvbnN0IGlkID0gcmVxdWVzdC5wYXJhbShcImlkXCIpO1xuICAgICAgICBjb25zdCBqb2dvID0gYXdhaXQgSm9nby5maW5kT3JGYWlsKGlkKTtcbiAgICAgICAgY29uc3QgZGFkb3MgPSByZXF1ZXN0Lm9ubHkoW1wibm9tZVwiLCBcImRlc2NyaWNhb1wiLCBcImZhYnJpY2FudGVcIiwgXCJkYXRhX2xhbmNhbWVudG9cIiwgXCJxdGRfZG93bmxvYWRcIixdKTtcbiAgICAgICAgam9nby5tZXJnZShkYWRvcyk7XG4gICAgICAgIHJldHVybiBqb2dvLnNhdmUoKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIGFzeW5jIGRlc3Ryb3koeyByZXF1ZXN0IH0pIHtcbiAgICAgICAgY29uc3QgaWQgPSByZXF1ZXN0LnBhcmFtKFwiaWRcIik7XG4gICAgICAgIGNvbnN0IGpvZ28gPSBhd2FpdCBKb2dvLmZpbmRPckZhaWwoaWQpO1xuICAgICAgICByZXR1cm4gam9nby5kZWxldGUoKTtcbiAgICAgIH1cbn1cbiJdfQ==